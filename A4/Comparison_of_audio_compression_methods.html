<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Comparison of audio compression methods</title>
    <link rel="stylesheet" href="../css/a4styles.css">
  </head>


  <body onload="discography()">


  <div id="discography_table">Compression method</div>


  <button id="Button" onclick="discography()">Click here for JB discography</button>

  <script type="text/javascript">

  //creating boolean to keep track of which table to display
  let heads = true;
  let saveTable  = document.createElement('table');

let file1 =   [{'F' : 'Filename', 'CA' : 'Compression algorithm', 'BR' : 'Bit-rate',
               'OS' : 'Original size', 'CS' : 'Compressed size', 'CR' : 'Compression ratio',
               'LOA': 'Link to original audio', 'LCA' : 'Link to compressed audio',
               'LRA': 'Link to residual audio'}];

  file1.push({ 'F'  : "Somebody To Love", 'CA' : "MP3", 'BR' : "96kbps",
               'OS' : "2822kb", 'CS': "808kb", 'CR': "0.29",
               'LOA': "Original".link("music/SomebodyToLove.wav"),
               'LCA': "Compressed".link("music/SomebodyToLove.mp3"),
               'LRA': "Residual".link("music/SomebodyToLoveResidualMp3.wav")});
  file1.push({ 'F'  : "Somebody To Love", 'CA' : "Ogg/Vorbis", 'BR' : "96kbps",
               'OS' : "2822kb", 'CS': "722kb", 'CR': "0.26",
               'LOA': "Original".link("music/SomebodyToLove.wav"),
               'LCA': "Compressed".link("music/SomebodyToLove.ogg"),
               'LRA': "Residual".link("music/SomebodyToLoveResidualOgg.wav")});
  file1.push({ 'F'  : "Somebody To Love", 'CA' : "AC3", 'BR' : "96kbps",
               'OS' : "2822kb", 'CS': "779kb", 'CR': "0.28",
               'LOA': "Original".link("music/SomebodyToLove.wav"),
               'LCA': "Compressed".link("music/SomebodyToLoveac3.wav"),
               'LRA': "Residual".link("music/SomebodyToLoveResidualAc3.wav")});

  file1.push({ 'F'  : "Somebody To Love", 'CA' : "M4A", 'BR' : "96kbps",
               'OS' : "2822kb", 'CS': "792kb", 'CR': "0.28",
               'LOA': "Original".link("music/SomebodyToLove.wav"),
               'LCA': "Compressed".link("music/SomebodyToLove.m4a"),
               'LRA': "Residual".link("music/SomebodyToLoveResidualM4a.wav")});


  /*------------------------------------------------------------------------------------------------*/

let file2 =   [{'F' : 'Filename', 'CA' : 'Compression algorithm', 'BR' : 'Bit-rate',
               'OS' : 'Original size', 'CS' : 'Compressed size', 'CR' : 'Compression ratio',
               'LOA': 'Link to original audio', 'LCA' : 'Link to compressed audio',
               'LRA': 'Link to residual audio'}];


  file2.push({ 'F'  : "Jesus", 'CA' : "MP3",  'BR' : "96kbps",
               'OS' : "1411kb", 'CS': "747kb", 'CR': "0.53",
               'LOA': "Original".link("music/Jesus.wav"),
               'LCA': "Compressed".link("music/Jesus.mp3"),
               'LRA': "Residual".link("music/JesusResidualMp3.wav")});

  file2.push({ 'F'  : "Jesus", 'CA' : "Ogg/Vorbis", 'BR' : "96kbps",
               'OS' : "1411kb", 'CS': "700kb", 'CR': "0.5",
               'LOA': "Original".link("music/Jesus.wav"),
               'LCA': "Compressed".link("music/Jesus.ogg"),
               'LRA': "Residual".link("music/JesusResidualOgg.wav")});

  file2.push({ 'F'  : "Jesus", 'CA' : "AC3",  'BR' : "96kbps",
               'OS' : "1411kb", 'CS': "746kb", 'CR': "0.53",
               'LOA': "Original".link("music/Jesus.wav"),
               'LCA': "Compressed".link("music/Jesusac3.wav"),
               'LRA': "Residual".link("music/JesusResidualAc3.wav")});

  file2.push({ 'F'  : "Jesus", 'CA' : "M4A",  'BR' : "96kbps",
               'OS' : "1411kb", 'CS': "758kb", 'CR': "0.53",
               'LOA': "Original".link("music/Jesus.wav"),
               'LCA': "Compressed".link("music/Jesus.m4a"),
               'LRA': "Residual".link("music/JesusResidualM4a.wav")});

  function discography() {
     let table = document.createElement('table');  //creating table
     //table.id = "table"                         //setting ID of set table as JB_table

    console.log("Checking if saveTable.rows..length is bigger than 1. The value is " + saveTable.rows.length);
     //if the table already has values, we must remove them
     if (saveTable.rows.length > 1){
      document.getElementById("discography_table").removeChild(saveTable);
     }

     if (heads){
       heads = false;
       //create the row
       for (i = 0; i < file1.length; i++) {
         tr = document.createElement('tr');
         let element = Object.keys(file1[i]);

        //create the columns (cells) of the rows
         for (j = 0; j < element.length; j++) {
           td = document.createElement('td');
           tr.appendChild(td);
           td.innerHTML = file1[i][element[j]];
         }
         table.appendChild(tr);
       }
     }

     else{
       heads = true;
       //create the row
       for (i = 0; i < file2.length; i++) {
         tr = document.createElement('tr');
         let element = Object.keys(file2[i]);

        //create the columns (cells) of the rows
         for (j = 0; j < element.length; j++) {
           td = document.createElement('td');
           tr.appendChild(td);
           td.innerHTML = file2[i][element[j]];
         }
         table.appendChild(tr);
       }
     }

     document.getElementById("discography_table").appendChild(table);
     //we save a copy of the table so that we may remove it when we click the button
     saveTable = table;
   }
  </script>
  </body>
</html>
